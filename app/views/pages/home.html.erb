<h1>Pages#home</h1>
<%= form_with url: search_path, method: :get do %>
    <div class="row">
        <div class="col-md-6">
            <%= text_field_tag :search, params[:search], placeholder: "where are you going?", class: "form-control"%>
        </div>
        <div class="col-md-2">
            <%= text_field_tag :start_date, params[:start_date], placeholder: "start date", class:"form-control"%>
        </div>
        <div class="col-md-2">
            <%= text_field_tag :end_date, params[:end_date], placeholder: "end date", class:"form-control"%>
        </div>
        <div class="col-md-2">
            <%= submit_tag :search, class:"btn btn-primary" %>
        </div>
    </div>
<% end %>


<div class="row">
    <div class="col-md-4">
        <% @rooms.each do |room| %>
            
            <%= link_to room_path(room.id) do %>
                <%= image_tag room.images[0] if room.images.attached? %>
                <%= room.listing_name %> 
            <% end %>
        <% end %>
        
    </div>
</div>

<script>
    $(function() {
        $('#start_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: 0,
            maxDate: '3m',
            onSelect: function(selected) {
                $('#end_date').datepicker("option", "minDate", selected);
                $('#end_date').attr('disabled', false);
            }
        })
  
        $('end_date').datepicker({
            dateFormat: 'dd-mm-yy',
            minDate: 0,
            maxDate: '3m',
            onSelect: function(selected) {
                $('#end_date').datepicker("option", "maxDate", selected);
         
            }
        })

    });
</script>